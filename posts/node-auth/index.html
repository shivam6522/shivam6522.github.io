<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Node.js Authentication System" /><meta property="og:locale" content="en_US" /><meta name="description" content="A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation." /><meta property="og:description" content="A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation." /><link rel="canonical" href="/posts/node-auth/" /><meta property="og:url" content="/posts/node-auth/" /><meta property="og:site_name" content="Shivam" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-04-15T11:20:20+05:30" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Node.js Authentication System" /><meta name="twitter:site" content="@shivam6522" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation.","url":"/posts/node-auth/","headline":"Node.js Authentication System","dateModified":"2021-07-29T00:43:23+05:30","datePublished":"2021-04-15T11:20:20+05:30","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/node-auth/"},"@type":"BlogPosting","@context":"https://schema.org"}</script><title>Node.js Authentication System | Shivam</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Shivam"><meta name="application-name" content="Shivam"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/2.17MB.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Shivam</a></div><div class="site-subtitle font-italic">Passionate Coder | Developer</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>PROJECTS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>CODING</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/shivam6522" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/shivam6522" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['shivam.k','iiitg.ac.in'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/categories/all-projects"> Posts </a> </span> <span>Node.js Authentication System</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Node.js Authentication System</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Shivam Kumar </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Apr 15, 2021, 11:20 AM +0530" prep="on" > Apr 15 <i class="unloaded">2021-04-15T11:20:20+05:30</i> </span></div><div></div></div><div class="post-content"><h2 id="introduction">Introduction</h2><ul><li>Node.js authentication system with functionality of login, logout, register, email verification, change password , reset password, delete account etc. It uses passport authentication, express session maintainance, bcrypt for password hashing, nodemailer and OAuth2 to generate and send emails , JWT token to generate verification and reset links and mongodb as database to store user information.</ul><h2 id="features-and-functionlities">Features and Functionlities</h2><ul><li>Register<ul><li>Users can register themselves via register page.<li>You need to enter your name, email id (which will be the username) and password.<li>There is restriction in input length of max 200 chars for each input field to avoid XSS attacks.<li>Additionally input validation is done for each input field.<li>To make password strong there is a basic password strength checker code of javascript.<li>already registered emails will be redirected to login page.<li>you need to enter a valid email.</ul><li>Email verification and activation<ul><li>After submitting the registeration form an email verification link will be sent to the email id used for registration.<li>email link is generated with the help of JWT token and base url.<li>name, email and passwords are encrypted with JWT key in the activation url.<li>nodemailer is responsible to send the email with developers account as sender.<li>it uses gmail service and OAuth2 as authentication to create email transporter.<li>Then transporter sends the email with the content and details provided.<li>After the link is sent it is valid for only 30 mins.<li>Once the user clicks the link the system validates the link and activates the account and you are redirected to login page.</ul><li>Login<ul><li>you enter your email id and password to log into the system.<li>Again these two fields are verified and validated.<li>Once the previous step is successful a session is created for you and you are redirected to home page otherwise get the error message.</ul><li>Logout<ul><li>After you click on logout your session is terminated and you are redirected to login page.<li>after logout you cant just click back arrow to go to the previous page since every authorised page is checked for user authentication.</ul><li>Password reset<ul><li>In case you don’t remember your password you can always reset it if you have access to your registered email.<li>After entering the email on password reset page you are sent a password reset link.<li>The email sending and link generation process is smae as in email verification process.<li>Through the link you are securely redirected to password reset page which is attached with your email id.<li>Once you reset you can login into the system with your new password.</ul><li>Change password<ul><li>Additionlly in case you ever feel that your password is somewhat weak or someone hacked your passwrod you can change it.<li>here also old password is verified and new password is validated for it’s strength.</ul><li>Delete account<ul><li>You can delete your account if you don’t want to continuew with it.<li>To avoid deleting account by mistake in one click, you need to enter the passphrase <code class="language-plaintext highlighter-rouge">confirm</code> to confirm your deletion.<li>once you submit the form your account and information is permanently deleted from the database.</ul></ul><h2 id="tools-and-technologies">Tools and Technologies</h2><ul><li>Node.js<ul><li>Framework</ul><li>express.js<ul><li>to maintain and manage user sessions.</ul><li>mongodb<ul><li>Documented database to store user’s informations.</ul><li>googleapis<ul><li>to connect to and use google APIs.</ul><li>JWT<ul><li>To generate tokens for verification and reset links.</ul><li>moongoose<ul><li>To connect and use mongo db with node.js</ul><li>Javascript<ul><li>To implement entire system’s backend and frontend logic.</ul><li>HTML<ul><li>To manage content and structure of the web page.</ul><li>CSS<ul><li>Manages layout, design, and look of a web page.</ul><li>bootstrap.<ul><li>CSS framework which arranges and manages the layout of website.</ul></ul><h2 id="links">Links</h2><ul><li><a href="https://github.com/shivam6522/Nodejs-authentication-system">github</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/all-projects/'>ALL_PROJECTS</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/node-auth/" class="post-tag no-text-decoration" >node_auth</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Node.js Authentication System - Shivam&url=/posts/node-auth/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Node.js Authentication System - Shivam&u=/posts/node-auth/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Node.js Authentication System - Shivam&url=/posts/node-auth/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/rest-api/">Django Rest API similar to Pastebin</a><li><a href="/posts/node-auth/">Node.js Authentication System</a><li><a href="/posts/real-estate/">Real Estate Web Application</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/node-auth/">node_auth</a> <a class="post-tag" href="/tags/rest-api/">rest_api</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/real-estate/"><div class="card-body"> <span class="timeago small" > Apr 10, 2020 <i class="unloaded">2020-04-10T11:20:20+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Real Estate Web Application</h3><div class="text-muted small"><p> Introduction A sample Real Estate web app for sales, purchase and search of suitable housing properties available for rent or sale. It includes login pages for manager and agents and home page f...</p></div></div></a></div><div class="card"> <a href="/posts/stocks/"><div class="card-body"> <span class="timeago small" > May 10 <i class="unloaded">2021-05-10T11:20:20+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Django Stocks App</h3><div class="text-muted small"><p> Stocks App Introduction A web site where you can view quotes of various companies just by entering their ticker symbol. You can search for multiple quotes by entering multiple ticker symbols in...</p></div></div></a></div><div class="card"> <a href="/posts/rest-api/"><div class="card-body"> <span class="timeago small" > May 20 <i class="unloaded">2021-05-20T11:20:20+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Django Rest API similar to Pastebin</h3><div class="text-muted small"><p> Introduction Created a Model backed Browsable API which let user’s share their code or any other text by creating snippets using the API. Additionally users have all the CRUD functionality with...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/real-estate/" class="btn btn-outline-primary" prompt="Older"><p>Real Estate Web Application</p></a> <a href="/posts/stocks/" class="btn btn-outline-primary" prompt="Newer"><p>Django Stocks App</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/username">Shivam Kumar</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/node-auth/">node_auth</a> <a class="post-tag" href="/tags/rest-api/">rest_api</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script async src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script>
